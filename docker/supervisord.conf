[supervisord]
nodaemon=true
logfile=/opt/logs/supervisord.log
pidfile=/var/run/supervisord.pid
user=root

[program:xvfb]
command=/opt/scripts/start-xvfb.sh
autorestart=true
stdout_logfile=/opt/logs/xvfb.log
stderr_logfile=/opt/logs/xvfb-error.log
priority=10

[program:x11vnc]
command=/opt/scripts/start-vnc.sh
autorestart=true
stdout_logfile=/opt/logs/x11vnc.log
stderr_logfile=/opt/logs/x11vnc-error.log
priority=20
depends_on=xvfb

[program:novnc]
command=/opt/scripts/start-novnc.sh
autorestart=true
stdout_logfile=/opt/logs/novnc.log
stderr_logfile=/opt/logs/novnc-error.log
priority=30
depends_on=x11vnc

[program:app]
command=/opt/scripts/start-app.sh
autorestart=true
stdout_logfile=/opt/logs/app.log
stderr_logfile=/opt/logs/app-error.log
priority=40
depends_on=xvfb